<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Processing and visualizing data in the tidyverse</title>
    <meta charset="utf-8" />
    <meta name="author" content="Fabrício de Almeida Silva @almeidasilvaf" />
    <script src="libs/header-attrs-2.8/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <script src="libs/clipboard-2.0.6/clipboard.min.js"></script>
    <link href="libs/shareon-1.4.1/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon-1.4.1/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain-0.2.6/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain-0.2.6/shareagain.js"></script>
    <meta name="github-repo" content="almeidasilvaf/Project_management"/>
    <meta name="twitter:title" content="Project management in bioinformatics"/>
    <meta name="twitter:description" content="Best practices for handling bioinformatics projects February 2021"/>
    <meta name="twitter:url" content="https://almeidasilvaf.github.io/Project_management/project_management.html"/>
    <meta name="twitter:image:src" content="https://almeidasilvaf.github.io/Project_management/cover.png"/>
    <meta name="twitter:image:alt" content="Title slide of Project management in bioinformatics, presented in February 2021 by Fabrício Almeida-Silva"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:creator" content="@almeidasilvaf"/>
    <meta name="twitter:site" content="@almeidasilvaf"/>
    <meta property="og:title" content="Project management in bioinformatics"/>
    <meta property="og:description" content="Best practices for handling bioinformatics projects February 2021"/>
    <meta property="og:url" content="https://almeidasilvaf.github.io/Project_management/project_management.html"/>
    <meta property="og:image" content="https://almeidasilvaf.github.io/Project_management/cover.png"/>
    <meta property="og:image:alt" content="Title slide of Project management in bioinformatics, presented in February 2021 by Fabrício Almeida-Silva"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="article:author" content="Fabrício Almeida-Silva"/>
    <link href="libs/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="libs/panelset-0.2.6/panelset.js"></script>
    <script src="libs/fabric-4.3.1/fabric.min.js"></script>
    <link href="libs/xaringanExtra-scribble-0.0.1/scribble.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-scribble-0.0.1/scribble.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { window.xeScribble = new Scribble({"pen_color":["#FF0000"],"pen_size":3,"eraser_size":30}) })</script>
    <link href="libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view-0.2.6/tile-view.js"></script>
    <link rel="stylesheet" href="assets/venanciolab-fonts.css" type="text/css" />
    <link rel="stylesheet" href="assets/venanciolab.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Processing and visualizing data in the tidyverse
### Fabrício de Almeida Silva <span class="citation">@almeidasilvaf</span>
### PGBV/UENF
### May, 2021

---










background-image: url("https://www.tidyverse.org/images/hex-tidyverse.png")
background-position: 95% 50%
background-size: 35%

## What is the tidyverse?

&lt;br /&gt;

.pull-left-2[
A **collection of packages** designed for data science.

All packages in the tidyverse share data structures and grammar.

To install the whole tidyverse:


```r
install.packages("tidyverse")
```

Then, load it.


```r
library(tidyverse)
```

]


---

background-image: url("https://rviews.rstudio.com/post/2017-06-09-What-is-the-tidyverse_files/tidyverse1.png")
background-position: 50% 80%
background-size: 90%

## Tidyverse overview

---

background-image: url("https://www.openscapes.org/img/blog/tidydata/tidydata_1.jpg")
background-size: cover

---

background-image: url("https://www.openscapes.org/img/blog/tidydata/tidydata_2.jpg")
background-size: cover

---

background-image: url("https://allisonhorst.github.io/palmerpenguins/reference/figures/lter_penguins.png")
background-position: 50% 70%
background-size: 80%

## Meet the palmer penguins!

---

background-image: url("https://allisonhorst.github.io/palmerpenguins/reference/figures/culmen_depth.png")
background-position: 50% 70%
background-size: 80%

---

## Tibbles

.panelset[
.panel[.panel-name[Definition]
Updated and stylish version of a data frame. Main differences between tibbles and data frames:

- Input type remains unchanged

- Variable names remain unchanged

- There are no row.names() for a tibble

- Tibbles print first ten rows and columns that fit on one screen
]

.panel[.panel-name[Examples]

```r
library(palmerpenguins)
penguins
```

```
## # A tibble: 344 x 8
##    species island bill_length_mm bill_depth_mm flipper_length_… body_mass_g
##    &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt;
##  1 Adelie  Torge…           39.1          18.7              181        3750
##  2 Adelie  Torge…           39.5          17.4              186        3800
##  3 Adelie  Torge…           40.3          18                195        3250
##  4 Adelie  Torge…           NA            NA                 NA          NA
##  5 Adelie  Torge…           36.7          19.3              193        3450
##  6 Adelie  Torge…           39.3          20.6              190        3650
##  7 Adelie  Torge…           38.9          17.8              181        3625
##  8 Adelie  Torge…           39.2          19.6              195        4675
##  9 Adelie  Torge…           34.1          18.1              193        3475
## 10 Adelie  Torge…           42            20.2              190        4250
## # … with 334 more rows, and 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;
```
]

.panel[.panel-name[Creating a tibble]
.pull-left[

```r
tibble(
  Nome = c("Eduardo", "Juliana", "Roberta"),
  Orientador = c("Fábio", "Clicia", "Vanildo"),
  Idade = c(25, 24, 24)
)
```
]

.pull-right[

```
## # A tibble: 3 x 3
##   Nome    Orientador Idade
##   &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt;
## 1 Eduardo Fábio         25
## 2 Juliana Clicia        24
## 3 Roberta Vanildo       24
```
]
]

.panel[.panel-name[Convert to tibble]

```r
as_tibble(trees)
```

```
## # A tibble: 31 x 3
##    Girth Height Volume
##    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1   8.3     70   10.3
##  2   8.6     65   10.3
##  3   8.8     63   10.2
##  4  10.5     72   16.4
##  5  10.7     81   18.8
##  6  10.8     83   19.7
##  7  11       66   15.6
##  8  11       75   18.2
##  9  11.1     80   22.6
## 10  11.2     75   19.9
## # … with 21 more rows
```
]

.panel[.panel-name[Inspecting]

```r
slice_sample(penguins, n=5)
```

```
## # A tibble: 5 x 8
##   species  island bill_length_mm bill_depth_mm flipper_length_… body_mass_g
##   &lt;fct&gt;    &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt;
## 1 Adelie   Dream            38.1          18.6              190        3700
## 2 Adelie   Dream            36.6          18.4              184        3475
## 3 Adelie   Torge…           NA            NA                 NA          NA
## 4 Chinstr… Dream            50.1          17.9              190        3400
## 5 Gentoo   Biscoe           43.5          14.2              220        4700
## # … with 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;
```

Other options: `slice_head()` and `slice_tail()`.
]

.panel[.panel-name[Subsetting]

```r
head(penguins$species)
```

```
## [1] Adelie Adelie Adelie Adelie Adelie Adelie
## Levels: Adelie Chinstrap Gentoo
```

```r
penguins[1, ]
```

```
## # A tibble: 1 x 8
##   species island  bill_length_mm bill_depth_mm flipper_length_… body_mass_g
##   &lt;fct&gt;   &lt;fct&gt;            &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt;
## 1 Adelie  Torger…           39.1          18.7              181        3750
## # … with 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;
```
]
]

---

class: inverse, center, middle

# Importing and exporting data

---

## Importing and exporting data

.panelset[
.panel[.panel-name[Spreadsheets]

```r
library(readxl)
read_excel(readxl_example("deaths.xlsx"),
  range = "arts!A5:F8",
  .name_repair = "unique")
```

```
## # A tibble: 3 x 6
##   Name  Profession   Age `Has kids` `Date of birth`     `Date of death`    
##   &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;lgl&gt;      &lt;dttm&gt;              &lt;dttm&gt;             
## 1 Davi… musician      69 TRUE       1947-01-08 00:00:00 2016-01-10 00:00:00
## 2 Carr… actor         60 TRUE       1956-10-21 00:00:00 2016-12-27 00:00:00
## 3 Chuc… musician      90 TRUE       1926-10-18 00:00:00 2017-03-18 00:00:00
```

Important arguments: 
- sheet: name of the sheet to import
- col_names: names for columns. By default, it is the first row.
]

.panel[.panel-name[CSVs]
**CSV** stands for **comma-separated values**.


```r
pokemon &lt;- read_csv("https://gist.githubusercontent.com/armgilles/194bcff35001e7eb53a2a8b441e8b2c6/raw/92200bc0a673d5ce2110aaad4544ed6c4010f687/pokemon.csv")
head(pokemon, n=5)
```

```
## # A tibble: 5 x 13
##     `#` Name         `Type 1` `Type 2` Total    HP Attack Defense `Sp. Atk`
##   &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;
## 1     1 Bulbasaur    Grass    Poison     318    45     49      49        65
## 2     2 Ivysaur      Grass    Poison     405    60     62      63        80
## 3     3 Venusaur     Grass    Poison     525    80     82      83       100
## 4     3 VenusaurMeg… Grass    Poison     625    80    100     123       122
## 5     4 Charmander   Fire     &lt;NA&gt;       309    39     52      43        60
## # … with 4 more variables: Sp. Def &lt;dbl&gt;, Speed &lt;dbl&gt;, Generation &lt;dbl&gt;,
## #   Legendary &lt;lgl&gt;
```
]

.panel[.panel-name[TSVs]
**TSV** stands for **tab-separated values**.


```r
xmas &lt;- read_tsv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-12-24/christmas_lyrics.tsv")
head(xmas, n=5)
```

```
## # A tibble: 5 x 8
##   title   artist  songid     weekid  track_title  track_n  line lyric      
##   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      
## 1 JINGLE… Bobby … Jingle Be… 12/20/… Jingle Bell…       1     1 Jingle bel…
## 2 JINGLE… Bobby … Jingle Be… 12/20/… Jingle Bell…       1     2 Jingle bel…
## 3 JINGLE… Bobby … Jingle Be… 12/20/… Jingle Bell…       1     3 Snowin' an…
## 4 JINGLE… Bobby … Jingle Be… 12/20/… Jingle Bell…       1     4 Now, the j…
## 5 JINGLE… Bobby … Jingle Be… 12/20/… Jingle Bell…       1     5 Jingle bel…
```
]

.panel[.panel-name[Delimited files]

```r
xmas &lt;- read_delim("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-12-24/christmas_lyrics.tsv",
                 delim="\t")
head(xmas, n=5)
```

```
## # A tibble: 5 x 8
##   title   artist  songid     weekid  track_title  track_n  line lyric      
##   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      
## 1 JINGLE… Bobby … Jingle Be… 12/20/… Jingle Bell…       1     1 Jingle bel…
## 2 JINGLE… Bobby … Jingle Be… 12/20/… Jingle Bell…       1     2 Jingle bel…
## 3 JINGLE… Bobby … Jingle Be… 12/20/… Jingle Bell…       1     3 Snowin' an…
## 4 JINGLE… Bobby … Jingle Be… 12/20/… Jingle Bell…       1     4 Now, the j…
## 5 JINGLE… Bobby … Jingle Be… 12/20/… Jingle Bell…       1     5 Jingle bel…
```
]

.panel[.panel-name[Exporting]

To export data, use the `write_` functions. Example:


```r
write_csv(xmas, file="christmas_songs.csv") # CSV
write_tsv(xmas, file="christmas_songs.tsv") # TSV
write_delim(xmas, file="christmas_songs.txt", delim=" ") # Space-separated
```
]
]

---

class: inverse, center, middle

# Data processing

---

## Reshaping data

.panelset[
.panel[.panel-name[Wide and long data]
&lt;img src="https://thinkr.fr/wp-content/uploads/long_wide.png" style="display: block; margin: auto;" /&gt;
]

.panel[.panel-name[Raw data]

```r
airquality &lt;- as_tibble(airquality)
airquality
```

```
## # A tibble: 153 x 6
##    Ozone Solar.R  Wind  Temp Month   Day
##    &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1    41     190   7.4    67     5     1
##  2    36     118   8      72     5     2
##  3    12     149  12.6    74     5     3
##  4    18     313  11.5    62     5     4
##  5    NA      NA  14.3    56     5     5
##  6    28      NA  14.9    66     5     6
##  7    23     299   8.6    65     5     7
##  8    19      99  13.8    59     5     8
##  9     8      19  20.1    61     5     9
## 10    NA     194   8.6    69     5    10
## # … with 143 more rows
```
]

.panel[.panel-name[pivot_longer() and pivot_wider()]

```r
gathered &lt;- airquality %&gt;%
  pivot_longer(everything())

head(gathered)
```

```
## # A tibble: 6 x 2
##   name    value
##   &lt;chr&gt;   &lt;dbl&gt;
## 1 Ozone    41  
## 2 Solar.R 190  
## 3 Wind      7.4
## 4 Temp     67  
## 5 Month     5  
## 6 Day       1
```

To revert to wide format, use `pivot_wider()`.
]
]

---

## Wrangling data

.panelset[

.panel[.panel-name[filter()]

.pull-left-1[
Filter by 1 condition:


```r
penguins %&gt;%
  filter(sex == "female") %&gt;%
  head(n=3)
```

Filter by 2+ conditions:


```r
penguins %&gt;%
  filter(sex == "female", body_mass_g &gt; 3500) %&gt;%
  head(n=3)
```
]

.pull-right-2[

```
## # A tibble: 3 x 8
##   species island  bill_length_mm bill_depth_mm flipper_length_… body_mass_g
##   &lt;fct&gt;   &lt;fct&gt;            &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt;
## 1 Adelie  Torger…           39.5          17.4              186        3800
## 2 Adelie  Torger…           40.3          18                195        3250
## 3 Adelie  Torger…           36.7          19.3              193        3450
## # … with 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;
```


```
## # A tibble: 3 x 8
##   species island  bill_length_mm bill_depth_mm flipper_length_… body_mass_g
##   &lt;fct&gt;   &lt;fct&gt;            &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt;
## 1 Adelie  Torger…           39.5          17.4              186        3800
## 2 Adelie  Torger…           40.3          18                195        3250
## 3 Adelie  Torger…           36.7          19.3              193        3450
## # … with 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;
```

]


]

.panel[.panel-name[select()]

```r
penguins %&gt;%
  filter(species == "Adelie") %&gt;%
  select(bill_length_mm, bill_depth_mm)
```

```
## # A tibble: 152 x 2
##    bill_length_mm bill_depth_mm
##             &lt;dbl&gt;         &lt;dbl&gt;
##  1           39.1          18.7
##  2           39.5          17.4
##  3           40.3          18  
##  4           NA            NA  
##  5           36.7          19.3
##  6           39.3          20.6
##  7           38.9          17.8
##  8           39.2          19.6
##  9           34.1          18.1
## 10           42            20.2
## # … with 142 more rows
```
]

.panel[.panel-name[arrange()]
.pull-left-1[

Sort in ascending order.


```r
penguins %&gt;%
  select(species, bill_length_mm, year) %&gt;%
  arrange(bill_length_mm) %&gt;%
  head(n=3)
```

Sort in descending, then ascending order.


```r
penguins %&gt;%
  select(species, bill_length_mm, bill_depth_mm, year) %&gt;%
  arrange(-bill_length_mm, bill_depth_mm) %&gt;%
  head(n=3)
```
]

.pull-right-2[

```
## # A tibble: 3 x 3
##   species bill_length_mm  year
##   &lt;fct&gt;            &lt;dbl&gt; &lt;int&gt;
## 1 Adelie            32.1  2009
## 2 Adelie            33.1  2008
## 3 Adelie            33.5  2008
```


```
## # A tibble: 3 x 4
##   species   bill_length_mm bill_depth_mm  year
##   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt; &lt;int&gt;
## 1 Gentoo              59.6          17    2007
## 2 Chinstrap           58            17.8  2007
## 3 Gentoo              55.9          17    2009
```
]
]

.panel[.panel-name[mutate()]


```r
penguins %&gt;%
  select(species, island, bill_length_mm, bill_depth_mm) %&gt;%
  mutate(length_times_depth = bill_length_mm * bill_depth_mm)
```

```
## # A tibble: 344 x 5
##    species island    bill_length_mm bill_depth_mm length_times_depth
##    &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;              &lt;dbl&gt;
##  1 Adelie  Torgersen           39.1          18.7               731.
##  2 Adelie  Torgersen           39.5          17.4               687.
##  3 Adelie  Torgersen           40.3          18                 725.
##  4 Adelie  Torgersen           NA            NA                  NA 
##  5 Adelie  Torgersen           36.7          19.3               708.
##  6 Adelie  Torgersen           39.3          20.6               810.
##  7 Adelie  Torgersen           38.9          17.8               692.
##  8 Adelie  Torgersen           39.2          19.6               768.
##  9 Adelie  Torgersen           34.1          18.1               617.
## 10 Adelie  Torgersen           42            20.2               848.
## # … with 334 more rows
```
]

.panel[.panel-name[separate()]



.pull-left-2[

```r
# Show original data
head(conservation, n=3)

# Separate columns
sep &lt;- conservation %&gt;%
  separate(`conservation abbreviation`, 
           into = c("abbreviation", "description"), sep = " = ") %&gt;%
  head(n=3)
sep
```
]

.pull-right-1[

```
## # A tibble: 3 x 1
##   `conservation abbreviation`
##   &lt;chr&gt;                      
## 1 EX = Extinct               
## 2 EW = Extinct in the wild   
## 3 CR = Critically Endangered
```

```
## # A tibble: 3 x 2
##   abbreviation description          
##   &lt;chr&gt;        &lt;chr&gt;                
## 1 EX           Extinct              
## 2 EW           Extinct in the wild  
## 3 CR           Critically Endangered
```
]

]

.panel[.panel-name[unite()]

```r
sep %&gt;%
  unite(united_col, abbreviation, description, sep = " = ") %&gt;%
  head(n=3)
```

```
## # A tibble: 3 x 1
##   united_col                
##   &lt;chr&gt;                     
## 1 EX = Extinct              
## 2 EW = Extinct in the wild  
## 3 CR = Critically Endangered
```
]

.panel[.panel-name[clean_names()]

```r
library(janitor)
conservation %&gt;%
  clean_names()
```

```
## # A tibble: 11 x 1
##    conservation_abbreviation                    
##    &lt;chr&gt;                                        
##  1 EX = Extinct                                 
##  2 EW = Extinct in the wild                     
##  3 CR = Critically Endangered                   
##  4 EN = Endangered                              
##  5 VU = Vulnerable                              
##  6 NT = Near Threatened                         
##  7 LC = Least Concern                           
##  8 DD = Data deficient                          
##  9 NE = Not evaluated                           
## 10 PE = Probably extinct (informal)             
## 11 PEW = Probably extinct in the wild (informal)
```
]

]

---

background-image: url("https://media.giphy.com/media/ZVik7pBtu9dNS/giphy.gif")
background-position: 5% 50%
background-size: 35%

## Exercise #1

.pull-right-2[
Filter the `penguins` data set to keep only female penguins from species "Adelie"
and sort them by bill length in ascending order.

- What are the first 3 values for `bill_length_mm`?

- From which island are the top 3 Adelie penguins with the smallest bill?
]

---

## Solution - Exercise #1


```r
penguins %&gt;%
  filter(sex == "female", species == "Adelie") %&gt;%
  arrange(bill_length_mm)
```

```
## # A tibble: 73 x 8
##    species island bill_length_mm bill_depth_mm flipper_length_… body_mass_g
##    &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;int&gt;       &lt;int&gt;
##  1 Adelie  Dream            32.1          15.5              188        3050
##  2 Adelie  Dream            33.1          16.1              178        2900
##  3 Adelie  Torge…           33.5          19                190        3600
##  4 Adelie  Dream            34            17.1              185        3400
##  5 Adelie  Torge…           34.4          18.4              184        3325
##  6 Adelie  Biscoe           34.5          18.1              187        2900
##  7 Adelie  Torge…           34.6          17.2              189        3200
##  8 Adelie  Biscoe           35            17.9              190        3450
##  9 Adelie  Biscoe           35            17.9              192        3725
## 10 Adelie  Torge…           35.2          15.9              186        3050
## # … with 63 more rows, and 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;
```

---

background-image: url("https://media.giphy.com/media/ZVik7pBtu9dNS/giphy.gif")
background-position: 5% 50%
background-size: 35%

## Exercise #2

.pull-right-2[
Filter the `penguins` data set to remove observations from the year 2007. Then, select only the columns `species`, `sex`, and `body_mass_g`. Finally, create a new column named `body_mass_kg` with the body mass represented in kilograms and sort this column in descending order.

- What are weights (in kg) of the 5 heaviest penguins?

- What are their species?

- What are their sexes?

]

---

## Solution - Exercise #2


```r
penguins %&gt;%
  filter(year != 2007) %&gt;%
  select(species, sex, body_mass_g) %&gt;%
  mutate(body_mass_kg = body_mass_g / 1000) %&gt;%
  arrange(-body_mass_kg)
```

```
## # A tibble: 234 x 4
##    species sex   body_mass_g body_mass_kg
##    &lt;fct&gt;   &lt;fct&gt;       &lt;int&gt;        &lt;dbl&gt;
##  1 Gentoo  male         6000         6   
##  2 Gentoo  male         6000         6   
##  3 Gentoo  male         5950         5.95
##  4 Gentoo  male         5950         5.95
##  5 Gentoo  male         5850         5.85
##  6 Gentoo  male         5800         5.8 
##  7 Gentoo  male         5800         5.8 
##  8 Gentoo  male         5750         5.75
##  9 Gentoo  male         5700         5.7 
## 10 Gentoo  male         5700         5.7 
## # … with 224 more rows
```

---

background-image: url("https://media.giphy.com/media/ZVik7pBtu9dNS/giphy.gif")
background-position: 5% 50%
background-size: 35%

## Exercise #3

.pull-right-2[
&lt;br /&gt;

- How many penguins have flipper length between 200 and 215 mm?

**Tip:** you can use the `count()` or the `nrow()` function to count.
]

---

## Solution - Exercise #3


```r
penguins %&gt;%
  filter(flipper_length_mm &gt; 200, flipper_length_mm &lt; 215) %&gt;%
  count()
```

```
## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1    69
```

---

background-image: url("https://data-lessons.github.io/gapminder-R/fig/dplyr-joins.png")
background-size: 60%

## Joins

---

background-image: url("https://github.com/gadenbuie/tidyexplain/raw/master/images/inner-join.gif")
background-size: 60%

## Joins

---

background-image: url("httpshttps://github.com/gadenbuie/tidyexplain/raw/master/images/left-join.gif")
background-size: 60%

## Joins

---

background-image: url("https://github.com/gadenbuie/tidyexplain/raw/master/images/left-join-extra.gif")
background-size: 60%

## Joins

---

background-image: url("https://github.com/gadenbuie/tidyexplain/raw/master/images/right-join.gif")
background-size: 60%

## Joins

---

background-image: url("https://github.com/gadenbuie/tidyexplain/raw/master/images/full-join.gif")
background-size: 60%

## Joins

---

## Joining data

.panelset[

.panel[.panel-name[The data]


.pull-left[

```r
superheroes
```

```
## # A tibble: 7 x 4
##   name     alignment gender publisher        
##   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;            
## 1 Magneto  bad       male   Marvel           
## 2 Storm    good      female Marvel           
## 3 Mystique bad       female Marvel           
## 4 Batman   good      male   DC               
## 5 Joker    bad       male   DC               
## 6 Catwoman bad       female DC               
## 7 Hellboy  good      male   Dark Horse Comics
```
]

.pull-right[

```r
publishers
```

```
## # A tibble: 3 x 2
##   publisher yr_founded
##   &lt;chr&gt;          &lt;int&gt;
## 1 DC              1934
## 2 Marvel          1939
## 3 Image           1992
```
]
]

.panel[.panel-name[inner_join()]

```r
inner_join(superheroes, publishers)
```

```
## # A tibble: 6 x 5
##   name     alignment gender publisher yr_founded
##   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;          &lt;int&gt;
## 1 Magneto  bad       male   Marvel          1939
## 2 Storm    good      female Marvel          1939
## 3 Mystique bad       female Marvel          1939
## 4 Batman   good      male   DC              1934
## 5 Joker    bad       male   DC              1934
## 6 Catwoman bad       female DC              1934
```
]

.panel[.panel-name[semi_join()]

```r
semi_join(superheroes, publishers)
```

```
## # A tibble: 6 x 4
##   name     alignment gender publisher
##   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;    
## 1 Magneto  bad       male   Marvel   
## 2 Storm    good      female Marvel   
## 3 Mystique bad       female Marvel   
## 4 Batman   good      male   DC       
## 5 Joker    bad       male   DC       
## 6 Catwoman bad       female DC
```
]

.panel[.panel-name[left_join()]

```r
left_join(superheroes, publishers)
```

```
## # A tibble: 7 x 5
##   name     alignment gender publisher         yr_founded
##   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;                  &lt;int&gt;
## 1 Magneto  bad       male   Marvel                  1939
## 2 Storm    good      female Marvel                  1939
## 3 Mystique bad       female Marvel                  1939
## 4 Batman   good      male   DC                      1934
## 5 Joker    bad       male   DC                      1934
## 6 Catwoman bad       female DC                      1934
## 7 Hellboy  good      male   Dark Horse Comics         NA
```
]

.panel[.panel-name[anti_join()]

```r
anti_join(superheroes, publishers)
```

```
## # A tibble: 1 x 4
##   name    alignment gender publisher        
##   &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;            
## 1 Hellboy good      male   Dark Horse Comics
```
]

.panel[.panel-name[full_join()]

```r
full_join(superheroes, publishers)
```

```
## # A tibble: 8 x 5
##   name     alignment gender publisher         yr_founded
##   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;                  &lt;int&gt;
## 1 Magneto  bad       male   Marvel                  1939
## 2 Storm    good      female Marvel                  1939
## 3 Mystique bad       female Marvel                  1939
## 4 Batman   good      male   DC                      1934
## 5 Joker    bad       male   DC                      1934
## 6 Catwoman bad       female DC                      1934
## 7 Hellboy  good      male   Dark Horse Comics         NA
## 8 &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;   Image                   1992
```
]
]

---

## Summarizing data

.panelset[

.panel[.panel-name[summarize()]
.pull-left-1[

```r
head(msleep)
msleep %&gt;%
  select(genus) %&gt;%
  summarize(N=n())
```
]

.pull-right-2[

```
## # A tibble: 6 x 11
##   name    genus  vore  order conservation sleep_total sleep_rem sleep_cycle
##   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;
## 1 Cheetah Acino… carni Carn… lc                  12.1      NA        NA    
## 2 Owl mo… Aotus  omni  Prim… &lt;NA&gt;                17         1.8      NA    
## 3 Mounta… Aplod… herbi Rode… nt                  14.4       2.4      NA    
## 4 Greate… Blari… omni  Sori… lc                  14.9       2.3       0.133
## 5 Cow     Bos    herbi Arti… domesticated         4         0.7       0.667
## 6 Three-… Brady… herbi Pilo… &lt;NA&gt;                14.4       2.2       0.767
## # … with 3 more variables: awake &lt;dbl&gt;, brainwt &lt;dbl&gt;, bodywt &lt;dbl&gt;
```

```
## # A tibble: 1 x 1
##       N
##   &lt;int&gt;
## 1    83
```
]
]

.panel[.panel-name[group_by() [1]]
.pull-left[

```r
msleep %&gt;%
  group_by(order) %&gt;% 
  select(order) %&gt;%
  summarize(N=n())
```
]

.pull-right[

```
## # A tibble: 19 x 2
##    order               N
##    &lt;chr&gt;           &lt;int&gt;
##  1 Afrosoricida        1
##  2 Artiodactyla        6
##  3 Carnivora          12
##  4 Cetacea             3
##  5 Chiroptera          2
##  6 Cingulata           2
##  7 Didelphimorphia     2
##  8 Diprotodontia       2
##  9 Erinaceomorpha      2
## 10 Hyracoidea          3
## 11 Lagomorpha          1
## 12 Monotremata         1
## 13 Perissodactyla      3
## 14 Pilosa              1
## 15 Primates           12
## 16 Proboscidea         2
## 17 Rodentia           22
## 18 Scandentia          1
## 19 Soricomorpha        5
```
]
]

.panel[.panel-name[group_by() [2]]
.pull-left[

```r
msleep %&gt;%
  group_by(order) %&gt;% 
  select(order, sleep_total) %&gt;%
  summarize(N=n(), mean_sleep=mean(sleep_total))
```
]

.pull-right[

```
## # A tibble: 19 x 3
##    order               N mean_sleep
##    &lt;chr&gt;           &lt;int&gt;      &lt;dbl&gt;
##  1 Afrosoricida        1      15.6 
##  2 Artiodactyla        6       4.52
##  3 Carnivora          12      10.1 
##  4 Cetacea             3       4.5 
##  5 Chiroptera          2      19.8 
##  6 Cingulata           2      17.8 
##  7 Didelphimorphia     2      18.7 
##  8 Diprotodontia       2      12.4 
##  9 Erinaceomorpha      2      10.2 
## 10 Hyracoidea          3       5.67
## 11 Lagomorpha          1       8.4 
## 12 Monotremata         1       8.6 
## 13 Perissodactyla      3       3.47
## 14 Pilosa              1      14.4 
## 15 Primates           12      10.5 
## 16 Proboscidea         2       3.6 
## 17 Rodentia           22      12.5 
## 18 Scandentia          1       8.9 
## 19 Soricomorpha        5      11.1
```
]
]

.panel[.panel-name[count()]
.pull-left[

```r
msleep %&gt;%
  count(vore, order)
```
]

.pull-right[

```
## # A tibble: 32 x 3
##    vore  order               n
##    &lt;chr&gt; &lt;chr&gt;           &lt;int&gt;
##  1 carni Carnivora          12
##  2 carni Cetacea             3
##  3 carni Cingulata           1
##  4 carni Didelphimorphia     1
##  5 carni Primates            1
##  6 carni Rodentia            1
##  7 herbi Artiodactyla        5
##  8 herbi Diprotodontia       1
##  9 herbi Hyracoidea          2
## 10 herbi Lagomorpha          1
## # … with 22 more rows
```
]
]

.panel[.panel-name[tabyl()]
.pull-left[

```r
msleep %&gt;%
  tabyl(order)
```
]

.pull-right[

```
##            order  n    percent
##     Afrosoricida  1 0.01204819
##     Artiodactyla  6 0.07228916
##        Carnivora 12 0.14457831
##          Cetacea  3 0.03614458
##       Chiroptera  2 0.02409639
##        Cingulata  2 0.02409639
##  Didelphimorphia  2 0.02409639
##    Diprotodontia  2 0.02409639
##   Erinaceomorpha  2 0.02409639
##       Hyracoidea  3 0.03614458
##       Lagomorpha  1 0.01204819
##      Monotremata  1 0.01204819
##   Perissodactyla  3 0.03614458
##           Pilosa  1 0.01204819
##         Primates 12 0.14457831
##      Proboscidea  2 0.02409639
##         Rodentia 22 0.26506024
##       Scandentia  1 0.01204819
##     Soricomorpha  5 0.06024096
```
]
]

]

---

---

background-image: url("https://media.giphy.com/media/ZVik7pBtu9dNS/giphy.gif")
background-position: 5% 50%
background-size: 35%

## Exercise #4

.pull-right-2[
&lt;br /&gt;

- For each species, what is the mean body mass **(in kg)** by sex?

]

---

## Solution - Exercise #4


```r
penguins %&gt;%
  group_by(species, sex) %&gt;%
  summarise(mean_weight = mean(body_mass_g)) %&gt;%
  filter(!is.na(sex)) %&gt;%
  mutate(mean_weight = mean_weight / 1000)
```

```
## # A tibble: 6 x 3
## # Groups:   species [3]
##   species   sex    mean_weight
##   &lt;fct&gt;     &lt;fct&gt;        &lt;dbl&gt;
## 1 Adelie    female        3.37
## 2 Adelie    male          4.04
## 3 Chinstrap female        3.53
## 4 Chinstrap male          3.94
## 5 Gentoo    female        4.68
## 6 Gentoo    male          5.48
```

---

## Operations across() columns

.panelset[
.panel[.panel-name[Example 1]

Use across() to apply a function to all (or user-defined) columns.

.pull-left[

```r
head(airquality, n=3)
airquality %&gt;%
  summarize(across(Ozone:Temp, mean, na.rm = TRUE))
```
]
.pull-right[

```
## # A tibble: 3 x 6
##   Ozone Solar.R  Wind  Temp Month   Day
##   &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
## 1    41     190   7.4    67     5     1
## 2    36     118   8      72     5     2
## 3    12     149  12.6    74     5     3
```

```
## # A tibble: 1 x 4
##   Ozone Solar.R  Wind  Temp
##   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  42.1    186.  9.96  77.9
```
]
]

.panel[.panel-name[Example 2]

.pull-left[

```r
airquality %&gt;%
  filter(across(Ozone:Temp, ~ !is.na(.)))
```
]
.pull-right[

```
## # A tibble: 111 x 6
##    Ozone Solar.R  Wind  Temp Month   Day
##    &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1    41     190   7.4    67     5     1
##  2    36     118   8      72     5     2
##  3    12     149  12.6    74     5     3
##  4    18     313  11.5    62     5     4
##  5    23     299   8.6    65     5     7
##  6    19      99  13.8    59     5     8
##  7     8      19  20.1    61     5     9
##  8    16     256   9.7    69     5    12
##  9    11     290   9.2    66     5    13
## 10    14     274  10.9    68     5    14
## # … with 101 more rows
```
]
]

.panel[.panel-name[Example 3]

.pull-left[

```r
airquality %&gt;%
  mutate(across(Ozone:Temp, ~ replace_na(., 0)))
```
]
.pull-right[

```
## # A tibble: 153 x 6
##    Ozone Solar.R  Wind  Temp Month   Day
##    &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt;
##  1    41     190   7.4    67     5     1
##  2    36     118   8      72     5     2
##  3    12     149  12.6    74     5     3
##  4    18     313  11.5    62     5     4
##  5     0       0  14.3    56     5     5
##  6    28       0  14.9    66     5     6
##  7    23     299   8.6    65     5     7
##  8    19      99  13.8    59     5     8
##  9     8      19  20.1    61     5     9
## 10     0     194   8.6    69     5    10
## # … with 143 more rows
```
]
]
]

---

## String manipulation with {stringr}

.panelset[

.panel[.panel-name[str_c()] .pull-left[

```r
msleep %&gt;%
  mutate(name_genus = str_c(name, genus, "_")) %&gt;%
  select(name_genus)
```
]
.pull-right[

```
## # A tibble: 83 x 1
##    name_genus                        
##    &lt;chr&gt;                             
##  1 CheetahAcinonyx_                  
##  2 Owl monkeyAotus_                  
##  3 Mountain beaverAplodontia_        
##  4 Greater short-tailed shrewBlarina_
##  5 CowBos_                           
##  6 Three-toed slothBradypus_         
##  7 Northern fur sealCallorhinus_     
##  8 Vesper mouseCalomys_              
##  9 DogCanis_                         
## 10 Roe deerCapreolus_                
## # … with 73 more rows
```
]
]

.panel[.panel-name[str_sub()]

```r
genes &lt;- c("Glyma.15G026400.1", "Glyma.15G026400.2", "Glyma.15G026400.3")
str_sub(genes, 1, 15)
```

```
## [1] "Glyma.15G026400" "Glyma.15G026400" "Glyma.15G026400"
```
]

.panel[.panel-name[str_detect()]

```r
genes &lt;- c("AT2G25880", "AT2G45490", "Achn130491", "ATR0705G186", "ATR0705G186")
genes[str_detect(genes, "^AT[0-9]+")]
```

```
## [1] "AT2G25880" "AT2G45490"
```
]

.panel[.panel-name[str_replace()]

```r
genes &lt;- c("Glyma.15G026400.1", "Glyma.15G026400.2", "Glyma.15G026400.3")
str_replace(genes, "\\.[0-9]$", "")
```

```
## [1] "Glyma.15G026400" "Glyma.15G026400" "Glyma.15G026400"
```
]
]

---

background-image: url("https://media.giphy.com/media/fCU27lxFIsDaRhKCe2/giphy.gif")
background-position: 5% 50%
background-size: 35%

## Exercise #5

.pull-right-2[
&lt;br /&gt;

Load the Netflix titles data set and find the shows/movies starring Millie Bobby Brown.

- How many are they?

- What are their names?

Link [here](https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-04-20/netflix_titles.csv).

]

---

## Solution - Exercise #5


```r
netflix &lt;- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-04-20/netflix_titles.csv")
netflix %&gt;%
  filter(str_detect(cast, "Millie Bobby Brown")) %&gt;%
  select(title)
```

```
## # A tibble: 3 x 1
##   title                 
##   &lt;chr&gt;                 
## 1 Beyond Stranger Things
## 2 Enola Holmes          
## 3 Stranger Things
```

---

background-image: url("https://media.giphy.com/media/ZVik7pBtu9dNS/giphy.gif")
background-position: 5% 50%
background-size: 35%

## Exercise #6

.pull-right-2[
&lt;br /&gt;

From the netflix title data set, count the number of titles per country.

- What are the top 3 countries with the largest number of movies/shows?

- Where is Brazil in this ranking?

**Tip:** you will need the separate_rows() function.
]


---

## Solution - Exercise #6

.pull-left[

```r
ranking &lt;- netflix %&gt;%
  separate_rows(country, sep = ", ") %&gt;%
  count(country) %&gt;%
  arrange(-n)

head(ranking, n=3)

ranking %&gt;%
  mutate(Position = 1:nrow(ranking)) %&gt;%
  filter(country == "Brazil")
```
]
.pull-right[

```
## # A tibble: 3 x 2
##   country            n
##   &lt;chr&gt;          &lt;int&gt;
## 1 United States   3296
## 2 India            990
## 3 United Kingdom   722
```

```
## # A tibble: 1 x 3
##   country     n Position
##   &lt;chr&gt;   &lt;int&gt;    &lt;int&gt;
## 1 Brazil     88       18
```
]

---

class: inverse, middle, center

# Data visualization with ggplot2

---

background-image: url("https://qph.fs.quoracdn.net/main-qimg-834d36ac56c16413f8948c4b9b3ca0df")
background-size: 95%

---

## On plots

.panelset[
.panel[.panel-name[Good plots]
Good plots have: 

- Clearly-labeled axes.

- Text that are large enough to see.

- Axes that are not misleading.

- Data that are displayed appropriately considering the type of data you have.
]

There are **exploratory plots** and **explanatory plots**.

.panel[.panel-name[Exploratory plots]
These plots help us **identify patterns and understand them**. Some of their features:

- they are made quickly

- you should not be concerned about axes labels, titles, etc.

- they are made all the time during analyses
]

.panel[.panel-name[Explanatory plots]
These plots are used for **communicating information with others**. Things to consider:

- They may take a lot of time to be produced

- Typically, you will make just a few of them

]
]

---

background-image: url("https://mk0rfortheresto0o08q.kinstacdn.com/wp-content/uploads/2019/07/grammar-of-graphics.png")
background-size: 95%

## The grammar of graphics

.footnote[Source: David - R for the Rest of Us]

---

background-image: url("https://image.slidesharecdn.com/grammarofgraphicsdvny-181102042310/95/grammar-of-graphics-the-secret-sauce-of-powerful-data-stories-15-638.jpg?cb=1541133222")
background-size: 95%

## The grammar of graphics

.footnote[Source: Ganes Kesari]

---

background-image: url("figs/aes.png")
background-size: 95%

## Common aesthetics

.footnote[Source: Claus Wilke]

---

## ggplot2 syntax

.pull-left[

```r
ggplot(penguins, aes(x = bill_length_mm, 
                     y = body_mass_g))
```
]
.pull-right[
&lt;img src="slides_files/figure-html/ggplot_1_show-1.png" style="display: block; margin: auto;" /&gt;
]

---

## ggplot2 syntax

.pull-left[

```r
ggplot(penguins) +
  geom_point(aes(x = bill_length_mm, 
                 y = body_mass_g))
```
]
.pull-right[
&lt;img src="slides_files/figure-html/ggplot_2_show-1.png" style="display: block; margin: auto;" /&gt;
]

---

## ggplot2 syntax

.pull-left[

```r
ggplot(penguins, aes(x = bill_length_mm, 
                     y = body_mass_g)) +
  geom_point()
```
]
.pull-right[
&lt;img src="slides_files/figure-html/ggplot_3_show-1.png" style="display: block; margin: auto;" /&gt;
]

---

## ggplot2 syntax

.pull-left[

```r
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g)) +
  geom_point(aes(color = species))
```
]
.pull-right[
&lt;img src="slides_files/figure-html/ggplot_4_show-1.png" style="display: block; margin: auto;" /&gt;
]

---

## ggplot2 syntax

.pull-left[

```r
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g)) +
  geom_point(aes(color = species)) +
  facet_wrap(~ year)
```
]
.pull-right[
&lt;img src="slides_files/figure-html/ggplot_5_show-1.png" style="display: block; margin: auto;" /&gt;
]

---

## ggplot2 syntax

.pull-left[

```r
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g)) +
  geom_point(aes(color = species)) +
  facet_wrap(~ year) +
  theme_classic()
```
]
.pull-right[
&lt;img src="slides_files/figure-html/ggplot_6_show-1.png" style="display: block; margin: auto;" /&gt;
]

---

## ggplot2 syntax

.pull-left[

```r
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g)) +
  geom_point(aes(color = species)) +
  facet_wrap(~ year) +
  theme_bw()
```
]
.pull-right[
&lt;img src="slides_files/figure-html/ggplot_7_show-1.png" style="display: block; margin: auto;" /&gt;
]

---

## ggplot2 syntax

.pull-left[

```r
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g)) +
  geom_point(aes(color = species)) +
  facet_wrap(~ year) +
  theme_bw() +
  scale_colour_brewer(palette="Set2")
```
]
.pull-right[
&lt;img src="slides_files/figure-html/ggplot_8_show-1.png" style="display: block; margin: auto;" /&gt;
]

---

## ggplot2 syntax

.pull-left[

```r
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g)) +
  geom_point(aes(color = species)) +
  facet_wrap(~ year) +
  theme_bw() +
  scale_colour_brewer(palette="Set2") +
  labs(x="Bill length (mm)",
       y="Body mass(g)",
       color="Species")
```
]
.pull-right[
&lt;img src="slides_files/figure-html/ggplot_9_show-1.png" style="display: block; margin: auto;" /&gt;
]

---

## ggplot2 syntax

.pull-left[

```r
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g)) +
  geom_point(aes(color = species)) +
  facet_wrap(~ year) +
  theme_bw() +
  scale_colour_brewer(palette="Set2") +
  labs(x="Bill length (mm)",
       y="Body mass(g)",
       color="Species") +
  ggtitle("Bill length vs body mass per year")
```
]
.pull-right[
&lt;img src="slides_files/figure-html/ggplot_10_show-1.png" style="display: block; margin: auto;" /&gt;
]

---

## ggplot2 syntax

.pull-left[

```r
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g)) +
  geom_point(aes(color = species)) +
  facet_wrap(~ year) +
  theme_bw() +
  scale_colour_brewer(palette="Set2") +
  labs(x="Bill length (mm)",
       y="Body mass(g)",
       color="Species") +
  ggtitle("Bill length vs body mass per year") +
  theme(
    plot.title = element_text(size=13, hjust=0.5)
  )
```
]
.pull-right[
&lt;img src="slides_files/figure-html/ggplot_11_show-1.png" style="display: block; margin: auto;" /&gt;
]

---

## Histograms (geom_histogram)

**Data:** a single continuous variable.

.pull-left[

```r
ggplot(penguins, aes(body_mass_g)) +
  geom_histogram()
```
]

.pull-right[
&lt;img src="slides_files/figure-html/show_histogram-1.png" style="display: block; margin: auto;" /&gt;
]

---

## Histograms (geom_histogram)

**Data:** a single continuous variable.

.pull-left[

```r
ggplot(penguins, aes(body_mass_g)) +
  geom_histogram(aes(color = sex))
```
]

.pull-right[
&lt;img src="slides_files/figure-html/show_histogram2-1.png" style="display: block; margin: auto;" /&gt;
]


---

class: sydney-yellow, middle, center

## Here's where you can find me:

&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"&gt;&lt;/path&gt;&lt;/svg&gt;  [@almeidasilvaf](https://twitter.com/almeidasilvaf)

&lt;svg viewBox="0 0 496 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"&gt;&lt;/path&gt;&lt;/svg&gt;  [almeidasilvaf](https://github.com/almeidasilvaf/)

&lt;svg viewBox="0 0 496 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"&gt;&lt;/path&gt;&lt;/svg&gt;  [almeidasilvaf.github.io/home](https://almeidasilvaf.github.io/home/)

&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"&gt;&lt;/path&gt;&lt;/svg&gt;  [fabricio_almeidasilva@hotmail.com](mailto:fabricio_almeidasilva@hotmail.com)

&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;g label="icon" id="layer6" groupmode="layer"&gt;    &lt;path id="path2" d="m 336.6206,194.53756 c -7.12991,-3.32734 -13.8671,-5.55949 -20.25334,-6.61343 -6.36534,-1.09517 -16.57451,-1.61223 -30.71059,-1.61223 h -36.70409 v 152.74712 h 37.63425 c 14.6735,0 26.08126,-1.01267 34.22385,-3.01709 8.14259,-2.00442 14.92159,-4.52592 20.35674,-7.62608 5.43519,-3.07925 10.416,-6.8615 14.94192,-11.38742 14.4876,-14.71475 21.74129,-33.27334 21.74129,-55.7176 0,-22.05151 -7.44016,-40.05177 -22.34085,-53.98159 -5.49732,-5.16674 -11.82143,-9.44459 -18.88918,-12.79281 z M 255.99999,8.0000031 C 119.02153,8.0000031 8.0000034,119.04185 8.0000034,255.99998 8.0000034,392.95812 119.02153,504 255.99999,504 392.97849,504 504,392.95812 504,255.99998 504,119.04185 392.97849,8.0000031 255.99999,8.0000031 Z M 173.66372,365.51268 H 144.27546 V 160.1481 h 29.38826 z M 158.94954,138.69619 c -11.13935,0 -20.21208,-9.01056 -20.21208,-20.21208 0,-11.11841 9.05183,-20.191181 20.21208,-20.191181 11.18058,0 20.23244,9.051831 20.23244,20.191181 -0.0219,11.22184 -9.05186,20.21208 -20.23244,20.21208 z m 241.3866,163.59715 c -5.29051,12.54475 -12.83407,23.58066 -22.65053,33.08742 -9.98203,9.83734 -21.59659,17.19443 -34.84378,22.19616 -7.74983,3.01709 -14.83852,5.06335 -21.30725,6.11726 -6.4891,1.01267 -18.82759,1.50883 -37.07593,1.50883 H 219.5033 V 160.1481 h 69.23318 c 27.96195,0 50.03378,4.1541 66.31951,12.54476 16.26485,8.36977 29.18144,20.72859 38.79164,36.97254 9.61013,16.26483 14.4254,34.01757 14.4254,53.19607 0.0227,13.76426 -2.66619,26.90802 -7.93576,39.43187 z" style="stroke-width:0.07717"&gt;&lt;/path&gt;  &lt;/g&gt;&lt;/svg&gt;  [Fabricio Almeida-Silva](https://orcid.org/0000-0002-5314-2964)

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
